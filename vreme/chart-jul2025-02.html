  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="UTF-8">
    <title>ApexCharts Example</title>
    <!-- Include the ApexCharts library -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="stylesheet" href="https://use.typekit.net/blh4mgm.css">
    <style>
        body {
        font-family: "neue-haas-grotesk-display", sans-serif;
        background-color: transparent;
        }
        .label-y {
          text-shadow: 2px 2px 4px #000000;
        }
        .animate-button {
          position: absolute;
          bottom: 20px;
          right: 20px;
          background: linear-gradient(45deg, #ff6b35, #ff8c42);
          color: white;
          border: none;
          padding: 15px 30px;
          font-size: 18px;
          font-weight: bold;
          border-radius: 8px;
          cursor: pointer;
          box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
          transition: all 0.3s ease;
          font-family: "neue-haas-grotesk-display", sans-serif;
        }
        .animate-button:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(255, 107, 53, 0.4);
        }
        .animate-button:active {
          transform: translateY(0);
        }
        .apexcharts-yaxis-texts-g {
          opacity: 0; /* Hide y-axis labels */
        }
    </style>
  </head>
  <body>

    <!-- <img src="/temp.png" alt=""> -->
    <!-- Container for the chart -->
    <div id="chart"></div>
    <button class="animate-button" onclick="animateCurrentYear()">Animate 2025 Data</button>

    <script>
        var series = {
            rainfall1987: {
              values: [0, 0, 0, 0, 0], // Adding 5th location with 0 for now
              locations: ['Log pod Mangartom', 'Laško', 'Hrušica pri Jesenicah', 'Planina pod Golico', 'Miklavški hrib nad Celjem', 'Lokacija 5']
            },
            rainfall2025: {
              values: [0, 0, 124, 114, 112],
              actualValues: [0, 0, 124, 114, 112], // Store the actual values for animation
              locations: ['Log pod Mangartom', 'Laško', 'Hrušica pri Jesenicah', 'Planina pod Golico', 'Miklavški hrib nad Celjem', 'Lokacija 5']
            }
        };
      var options = {
        fontSize: '32px',
          series: [{
          name: '1987',
          data: series.rainfall1987.values,
          nodeBGColor: '#ffffff',
        }, {
          name: '2025',
          data: series.rainfall2025.actualValues, // Start with all zeros for animation
          nodeBGColor: '#ffffff',
        }],
          chart: {
            // background: '#fff',
            animations: {
                enabled: true,
                speed: 800,
                animateGradually: {
                    enabled: true,
                    delay: 150
                },
                dynamicAnimation: {
                    enabled: true,
                    speed: 350
                }
            },
            defaultLocale: 'sl',
            locales: [{
              name: 'sl',
              options: {
                months: ['Januar', 'Februar', 'Marec', 'April', 'Maj', 'Junij', 'Julij', 'Avgust', 'September', 'Oktober', 'November', 'December'],
                shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'maj', 'Jun', 'Jul', 'Avg', 'Sep', 'Okt', 'Nov', 'Dec'],
                days: ['Nedelja', 'Ponedeljek', 'Torek', 'Sreda', 'Četrtek', 'Petek', 'Sobota'],
                shortDays: ['Ned', 'Pon', 'Tor', 'Sre', 'Čet', 'Pet', 'Sob'],
                toolbar: {
                  exportToSVG: 'Prenesi kot SVG',
                  exportToPNG: 'Prenesi kot PNG',
                  menu: 'Meni',
                  selection: 'Izberi',
                  selectionZoom: 'Povečaj izbiro',
                  zoomIn: 'Povečaj',
                  zoomOut: 'Pomanjšaj',
                  pan: 'Premakni',
                  reset: 'Ponastavi povečavo'
                }
              }
            }],
            height: 720,
            width: 1920,
            type: 'bar',

          dropShadow: {
            enabled: true,
            color: '#000',
            top: 18,
            left: 7,
            blur: 10,
            opacity: 0.3
          },
            id: 'areachart-2',
            toolbar: {
                show: true,
                offsetX: 0,
                offsetY: 0,
                tools: {
                  download: true,
                  selection: false,
                  zoom: false,
                  zoomin: false,
                  zoomout: false,
                  pan: false,
                  reset: false
                },
                export: {
                  csv: {
                    filename: "rainfall-data-1987-vs-2025",
                  },
                  svg: {
                    filename: "rainfall-chart-1987-vs-2025",
                  },
                  png: {
                    filename: "rainfall-chart-1987-vs-2025",
                  }
                },
                autoSelected: 'zoom'
            },
        },
        fontSize: '25px',
        colors: ['#ff8c42', '#ff6b35'],
        legend: {
          show: false
        },
        fill: {
          type: 'gradient',
          gradient: {
            shade: 'dark',
            type: "horizontal",
            shadeIntensity: 0.5,
            gradientToColors: ["#ff6b35", "#ff8c42", "#ff8c42", "#ff6b35"],
            inverseColors: false,
            opacityFrom: 1,
            opacityTo: 1,
            stops: [0, 20, 80, 100]
          }
        },
        annotations: {
          // Remove datetime-based annotations since we're using categories now
        },
        // dataLabels: {
        //   enabled: false
        // },
        plotOptions: {
          bar: {
            horizontal: false,
            borderRadius: 3,
            borderRadiusApplication: 'around',
            borderRadiusWhenStacked: 'last',
            columnWidth: '60%',
            distributed: false,
            rangeBarOverlap: true,
            rangeBarGroupRows: false,
            hideZeroBarsWhenGrouped: false,
            isDumbbell: false,
            dumbbellColors: undefined,
            isFunnel: false,
            isFunnel3d: true,
            colors: {
              ranges: [{
                from: 0,
                to: 0,
                color: undefined
              }],
              backgroundBarColors: [],
              backgroundBarOpacity: 1,
              backgroundBarRadius: 0,
            },
            dataLabels: {
              position: 'top',
            },
          },
        },
        dataLabels: {
          enabled: true,
          offsetY: -50,
          style: {
            fontSize: '32px',
          },
          formatter: function (val) {
            return val > 10 ? val + ' mm' : '';
          },
        },
        // Remove the old gradient fill since we're using solid colors now
        grid: {
          padding: {
            right: 30,
            left: 20
          },
          borderColor: '#e7e7e766',
          row: {
            // colors: ['rgba(255,255,255,0.6)'], // takes an array which will be repeated on columns
            opacity: 1
          },
          
        },
        labels: series.rainfall1987.locations,
        xaxis: {
          type: 'category',
          categories: series.rainfall1987.locations,
          labels: {
            offsetY: 15,
            show: true,
            rotate: -45,
            style: {
                colors: '#ffffff',
                fontSize: '24px',
                fontWeight: 400,
                cssClass: 'label-x',
            },
          },
        },
        yaxis: {
          tickAmount: 5,
          min: 0,
          opacity: 0.1,
          max: 220,
          labels: {
            show: true,
            align: 'left',
            style: {
                colors: '#ffffff',
                fontSize: '32px',
                fontWeight: 400,
                cssClass: 'label-y',
            },
            formatter: function (value) {
                  return value + " mm";
            }
          },
        }
      };

        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();

        // Animation function for 2025 data
        function animateCurrentYear() {
          chart.updateSeries([{
            name: '1987',
            data: series.rainfall1987.values
          }, {
            name: '2025',
            data: series.rainfall2025.actualValues
          }]);
        }
    </script>
  </body>
</html>